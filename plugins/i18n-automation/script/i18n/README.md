# 다국어 자동화

## 1. 목표

(기획), (디자인) <-> (개발) 사이에 다국어 의사소통 비용과 휴먼에러를 줄이자

## 2. 그라운드 룰

##### 2-1. 다국어 기본 언어 설정의 값이 키이자 값이다

ex. key: 안녕, ko: 안녕, en: hello

##### 2-2. 키 값은 같은데 언어별로 값을 다르게 가져가야 하는경우 또는 화면 별로 다르게 가져가야 하는 경우가 만약 있다면 namespace 를 사용한다.

p.s 이와 같은 케이스는 거의 없다고 가정합니다

ex.

```
key: 안녕, namespace: profile ko: 안녕, en: hello
namespace: profile, key: profile_안녕, ko: 안녕, en: hi
```

##### 2-3. 기획자-디자이너-개발자 모두 다국어 시트에 표기된 다국어 값이 무조건 최신 값이라고 가정합니다.

##### 2-3-1. 기획자는 다국어 값이 추가, 수정, 삭제 되어도 개발자에게 알려주지 않아도 됩니다. 요청된 다국어를 추가한 경우에만 알려줍니다. 시트 수정 권한은 기획자에게만 있습니다.

##### 2-4. 다국어 추가가 필요한 경우

##### 2-4-1. 디자이너 : 추가 요청 시트에 새로 값을 기입합니다.

##### 2-4-2. 개발자 : 추가 요청 시트에 값을 업데이트하는 스크립트를 실행합니다.

다국어 생성 전에 개발하는 방법은 다국어 함수를 `i18nDev.t("....")` 함수를 사용해서 개발하고 나중에 `i18nS.t("...")` 또는 `i18nC.t("...")` 함수를 래핑한다.

##### 2-4-3. 기획자가 번역 중 복수형이나 단수형이 없는 경우 `_N/A` 라는 텍스트를 삽입해주어야한다.

##### 2-5. 기존 다국어 작성 방법과 비교

##### 2-5-1. 기획자 관점에서의 장점

- 키의 이름을 생각해야 하는 시간 비용이 줄어든다.
- 조건부 서식이 걸려 있어서 어떤 다국어 번역을 누락했는지 쉽게 알 수 있다 (개발에는 반영이 안됩니다.)

##### 2-5-2. 개발자 관점에서의 장점

- 개발 단에서 키 값으로 매핑 되어 있는 다국어 키를 일일이 대조하지 않고 실제 어떤 텍스트가 사용되었는지 쉽게 알 수 있다.
- 다국어 요청 사항이 완료 되었는지에 대한 엑셀 시트 이외에는 열어보지 않아도 됩니다.

##### 2-5-3. 디자이너, 기획자, 개발자 공통 장점

- 새롭게 추가 요청한 다국어가 무엇인지 파악할 수 있는 창구가 명확하고 추가가 되었는지 확인하는 추가 소통 비용이 줄어든다.

##### 2-5-4. 한계점 및 논쟁거리

- 화면별 또는 언어의 특성으로 인해 같은 키 값인데 다른 값을 가지는 n개 국어의 다국어 처리가 필요하다면 네임스페이스를 활용해야한다.

(영어의 경우 숫자 세는 방법이 서수 [1st, 2st…], 단수 복수형이 있는데 한글에는 구분이 없거나 좀 애매함, 매끄럽게 해결할 방법 고민 필요)

- 어떤 화면에서 어떤 다국어를 사용했는지 알고 싶다는 니즈가 있을 수는 있다고 보는데 그게 꼭 필요한지는 모르겠음

## 3. 개발자 영역

##### 0. 스크립트 실행 순서

```
npm run i18n:scan # 필수
npm run i18n:download # 필수
npm run i18n:upload # 옵션
```

##### 1. 다국어가 추가, 수정 및 삭제 된 경우

빌드 타임에서 다국어를 자동으로 다운로드 하기 때문에 타입 에러에서 걸립니다.

##### 2. 개발하다보니 다국어 추가가 필요한 경우

업로드 스크립트를 사용해서 엑셀 시트를 자동으로 추가할 수 있습니다.

##### 3. 기존의 매핑된 키를 마이그레이션 하는법

…추가 필요…
